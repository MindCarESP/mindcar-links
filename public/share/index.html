<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MindCar ¬∑ Compartir</title>
  <meta name="description" content="MindCar est√° en desarrollo. Este enlace se abrir√° en la app cuando est√© disponible." />

  <!-- Open Graph (preview al compartir) -->
  <meta property="og:title" content="MindCar" />
  <meta property="og:description" content="Este enlace se abrir√° en la app. Si no la tienes, estamos en construcci√≥n." />
  <meta property="og:type" content="website" />
  <!-- Cambia a tu URL real -->
  <meta property="og:url" content="https://mindcar.es/share" />
  <!-- Si tienes imagen de preview, ponla aqu√≠ -->
  <!-- <meta property="og:image" content="https://mindcar.es/assets/og-share.png" /> -->

  <style>
    :root{
      --bg1:#08121d;
      --bg2:#050b12;
      --card:#0c1a26cc;
      --card2:#0b1621cc;
      --stroke:rgba(255,255,255,.08);
      --text:rgba(255,255,255,.92);
      --muted:rgba(255,255,255,.70);
      --muted2:rgba(255,255,255,.58);
      --green:#22c55e; /* acento */
      --teal:#16c1b3;  /* acento 2 */
      --shadow: 0 20px 60px rgba(0,0,0,.55);
      --radius: 18px;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Helvetica Neue", Helvetica, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      background:
        radial-gradient(900px 450px at 50% 10%, rgba(34,197,94,.18), transparent 60%),
        radial-gradient(700px 350px at 20% 30%, rgba(22,193,179,.14), transparent 55%),
        radial-gradient(900px 650px at 80% 60%, rgba(59,130,246,.10), transparent 60%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
      display:flex;
      align-items:center;
      justify-content:center;
      padding:40px 18px;
    }

    .wrap{
      width:min(920px, 100%);
      position:relative;
    }

    .logo{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:12px;
      margin-bottom:22px;
      user-select:none;
    }
    .mark{
      width:52px;
      height:52px;
      border-radius:14px;
      background:
        linear-gradient(135deg, rgba(22,193,179,1), rgba(34,197,94,1));
      box-shadow: 0 10px 30px rgba(0,0,0,.45);
      position:relative;
      overflow:hidden;
    }
    /* Un ‚ÄúM‚Äù abstracta sin SVG externo */
    .mark:before, .mark:after{
      content:"";
      position:absolute;
      inset:10px;
      border:4px solid rgba(255,255,255,.92);
      border-radius:12px;
      clip-path: polygon(0% 100%, 0% 0%, 30% 0%, 50% 35%, 70% 0%, 100% 0%, 100% 100%, 70% 100%, 70% 45%, 50% 78%, 30% 45%, 30% 100%);
      opacity:.9;
    }
    .brand{
      font-weight:800;
      letter-spacing:.2px;
      font-size:34px;
      line-height:1;
    }
    .brand span{
      color:var(--green);
    }

    .card{
      background: linear-gradient(180deg, var(--card), rgba(10,20,30,.55));
      border:1px solid var(--stroke);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding:34px 26px;
      text-align:center;
      backdrop-filter: blur(10px);
    }

    h1{
      margin:0 0 14px;
      font-size: clamp(26px, 3.6vw, 44px);
      line-height:1.15;
      font-weight:900;
    }
    .accent{
      color:var(--green);
    }

    .sub{
      margin:0 auto 22px;
      max-width: 720px;
      color:var(--muted);
      font-size: 16px;
      line-height:1.6;
    }
    .sub b{color:var(--text)}

    .btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:12px;
  padding:14px 22px;
  border-radius: 14px;

  /* premium: menos juguete, m√°s limpio */
  background: linear-gradient(180deg, rgba(22,193,179,.92), rgba(12,140,132,.92));
  color:#041216;

  border: 1px solid rgba(255,255,255,.14);
  box-shadow:
    0 18px 48px rgba(0,0,0,.45),
    inset 0 1px 0 rgba(255,255,255,.10);

  font-weight: 900;
  font-size: 17px;
  letter-spacing: .2px;
  cursor:pointer;
  text-decoration:none;
  transition: transform .12s ease, filter .12s ease, box-shadow .12s ease;
}

.btn:hover{
  transform: translateY(-1px);
  filter: brightness(1.03);
  box-shadow:
    0 22px 60px rgba(0,0,0,.52),
    inset 0 1px 0 rgba(255,255,255,.12);
}

.btn:active{
  transform: translateY(0px);
  filter: brightness(.98);
}

.pill{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:28px;
  height:28px;
  border-radius: 10px;

  /* icon chip m√°s premium */
  background: rgba(255,255,255,.14);
  color: rgba(255,255,255,.92);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.14);
  font-size: 16px;
}

    .card2{
      margin-top:18px;
      background: linear-gradient(180deg, var(--card2), rgba(10,18,26,.55));
      border:1px solid var(--stroke);
      border-radius: var(--radius);
      box-shadow: 0 14px 45px rgba(0,0,0,.42);
      padding:22px 22px;
      text-align:center;
      color:var(--muted2);
      backdrop-filter: blur(10px);
    }
    .card2 b{
      color:var(--text);
    }

    .footer{
      margin-top:18px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      color:rgba(255,255,255,.55);
      font-size: 13px;
      padding: 0 6px;
    }
    .footer a{
      color: rgba(34,197,94,.92);
      text-decoration:none;
      font-weight:700;
    }
    .footer a:hover{ text-decoration:underline; }

    .note{
      margin-top:10px;
      font-size:12px;
      color:rgba(255,255,255,.45);
    }

    @media (max-width: 560px){
      .footer{ flex-direction:column; justify-content:center; }
    }
  </style>
</head>

<body>
  <main class="wrap">
    <div class="logo">
  <img
    src="/logo-full-app.svg"
    alt="MindCar logo"
    class="logo-full"
    role="img"
    aria-label="MindCar, Tu primera historia"
  />
</div>


    <section class="card">
      <h1>
        Este enlace se abrir√° en la app.<br>
        Si no la tienes, <span class="accent">estamos en construcci√≥n</span>.
      </h1>

      <p class="sub">
        Estamos construyendo el <b>buscador m√°s funcional</b> para comprar y vender coches: r√°pido, claro y √∫til.
      </p>

      <!-- Bot√≥n principal: ahora mismo "apoyar" / o "avisarme" / o "ir a la web" -->
      <a class="btn" href="/" id="primaryCta">
        <span class="pill">üöÄ</span>
        Ir a MindCar
      </a>

      <div class="note" id="sharedInfo"></div>
    </section>

    <section class="card2">
      ‚öôÔ∏è <b>MindCar est√° en desarrollo:</b> a√∫n no est√° disponible p√∫blicamente,
      pero puedes seguir el proyecto y apoyar su crecimiento.
      Muy pronto podr√°s probar la app y descubrir una nueva forma de entender los coches.
    </section>

    <footer class="footer">
      <div>¬© <span id="year"></span> MindCar</div>
      <div>
        <a href="mailto:mindcar@mindcar.es">mindcar@mindcar.es</a>
      </div>
    </footer>
  </main>

    <script>
    // A√±o autom√°tico
    document.getElementById("year").textContent = new Date().getFullYear();

    // ---------------------------
    // 1) Leer par√°metros del link
    // ---------------------------
    const sharedInfo = document.getElementById("sharedInfo");
    const url = new URL(window.location.href);
    const params = url.searchParams;

    // par√°metro can√≥nico: ad
    // fallback: id / item por compatibilidad
    const ad = params.get("ad") || params.get("id") || params.get("item") || "";
    const ref = params.get("ref") || "";

    // ---------------------------
    // 2) Mostrar info (UI)
    // ---------------------------
    let msg = "";
    if (ad) msg += `Anuncio compartido: #${ad}. `;
    if (ref) msg += `Ref: ${ref}. `;
    if (msg) sharedInfo.textContent = msg;

    // ---------------------------
    // 3) Deep link (beta sin Store)
    // ---------------------------
    // OJO: ahora mismo tu app NO tiene scheme custom configurado.
    // Si quieres hacerlo por scheme, tendr√°s que a√±adirlo en Android/iOS (Paso 3).
    // Si prefieres hacerlo por HTTPS App Links (recomendado), te lo monto en el Paso 3
    // y entonces aqu√≠ ni har√≠a falta esto.
    const ANDROID_PACKAGE = "com.mindcar.code"; // ‚úÖ seg√∫n tu build.gradle.kts
    const APP_SCHEME = "mindcar";               // c√°mbialo si usas otro

    function isAndroid(){ return /Android/i.test(navigator.userAgent); }
    function isiOS(){ return /iPhone|iPad|iPod/i.test(navigator.userAgent); }

    function buildDeepLink(id){
      return id ? `${APP_SCHEME}://ad/${encodeURIComponent(id)}` : `${APP_SCHEME}://home`;
    }

    function buildAndroidIntent(id){
      const path = id ? `ad/${encodeURIComponent(id)}` : "home";
      return `intent://${path}#Intent;scheme=${APP_SCHEME};package=${ANDROID_PACKAGE};end`;
    }

    function tryOpenApp(){
      if (!ad) return;

      if (sharedInfo) {
        sharedInfo.textContent = `Anuncio compartido: #${ad}. Intentando abrir la app‚Ä¶`;
      }

      const start = Date.now();

      if (isAndroid()){
        window.location.href = buildAndroidIntent(ad);
      } else {
        window.location.href = buildDeepLink(ad);
      }

      setTimeout(() => {
        if (Date.now() - start >= 1100) {
          if (sharedInfo) {
            sharedInfo.textContent = `Anuncio compartido: #${ad}. No parece que tengas la app instalada (beta).`;
          }
        }
      }, 1200);
    }

    // ---------------------------
    // 4) CTA: reintentar abrir app
    // ---------------------------
    const cta = document.getElementById("primaryCta");
    if (cta && ad) {
      cta.href = buildDeepLink(ad);
    }

    // Auto-intento al cargar (solo si viene ?ad=...)
    tryOpenApp();
  </script>
</body>
</html>
